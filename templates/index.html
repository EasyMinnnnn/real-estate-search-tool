<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Tra c·ª©u BƒêS</title>
    <style>
        .card {
            border: 1px solid #ccc;
            border-radius: 10px;
            margin: 10px;
            padding: 10px;
            width: 300px;
            float: left;
        }
        img { max-width: 100%; height: auto; }
    </style>
</head>
<body>
    <h2>Tra c·ª©u b·∫•t ƒë·ªông s·∫£n</h2>

    <form method="POST" action="/">
        <input
            type="text"
            name="query"
            placeholder="VD: B√°n nh√† L√™ VƒÉn S·ªπ, Qu·∫≠n 3"
            required
            style="width:300px"
            value="{{ query or '' }}"
        >
        <button type="submit">T√¨m ki·∫øm</button>
    </form>

    {% if query %}
        <h3>K·∫øt qu·∫£ cho: {{ query }}</h3>
        <div>
            {% for item in results %}
                <div class="card">
                    {% if item.image %}<img src="{{ item.image }}" alt="H√¨nh ·∫£nh">{% endif %}
                    <h4>{{ item.title }}</h4>
                    <p><strong>Gi√°:</strong> {{ item.price }}</p>
                    <p><strong>Di·ªán t√≠ch:</strong> {{ item.area }}</p>
                    <p><strong>M√¥ t·∫£:</strong> {{ item.description }}</p>
                    <p><strong>Li√™n h·ªá:</strong> {{ item.contact }}</p>
                    <a href="{{ item.link }}" target="_blank" rel="noopener">üîó Xem chi ti·∫øt</a>
                </div>
            {% endfor %}
        </div>
        <div style="clear: both;"></div>

        {% if has_more %}
            <form method="POST" action="/crawl_more" style="margin-top: 10px;">
                <button type="submit">Crawl th√™m 10 tin</button>
            </form>
        {% endif %}
    {% endif %}
</body>
</html>
